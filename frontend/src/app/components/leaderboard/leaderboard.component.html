<div class="bg-gradient-to-br from-blue-50 to-indigo-50 py-16 px-4 sm:px-6 lg:px-8">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-gray-900 mb-4">Community Impact Leaders</h2>
      <p class="text-xl text-gray-600">Celebrating the incredible generosity of our supporters</p>
    </div>

    <!-- Tab Navigation -->
    <div class="flex justify-center mb-8">
      <div class="inline-flex rounded-lg border border-gray-200 bg-white p-1" role="tablist">
        <button
          *ngFor="let tab of tabs"
          (click)="switchTab(tab.value)"
          [class.bg-indigo-600]="activeTab === tab.value"
          [class.text-white]="activeTab === tab.value"
          [class.text-gray-700]="activeTab !== tab.value"
          class="px-8 py-3 rounded-lg font-semibold transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"
          role="tab"
          [attr.aria-selected]="activeTab === tab.value"
        >
          <mat-icon class="inline-block mr-2 align-middle">{{ tab.icon }}</mat-icon>
          <span class="align-middle">{{ tab.label }}</span>
        </button>
      </div>
    </div>

    <!-- Leaderboard List -->
    <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
      <div class="divide-y divide-gray-100">
        <div
          *ngFor="let donor of currentLeaderboard; let i = index"
          class="flex items-center justify-between p-6 hover:bg-gray-50 transition-colors duration-150 ease-in-out"
          [@listAnimation]
        >
          <!-- Rank Badge -->
          <div class="flex items-center flex-shrink-0 mr-6">
            <div
              [ngClass]="{
                'bg-gradient-to-br from-yellow-400 to-yellow-600 text-white': i === 0,
                'bg-gradient-to-br from-gray-300 to-gray-400 text-gray-800': i === 1,
                'bg-gradient-to-br from-orange-400 to-orange-600 text-white': i === 2,
                'bg-gray-100 text-gray-700': i > 2
              }"
              class="w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg shadow-md"
            >
              <mat-icon *ngIf="i === 0" class="text-2xl">emoji_events</mat-icon>
              <mat-icon *ngIf="i === 1" class="text-2xl">military_tech</mat-icon>
              <mat-icon *ngIf="i === 2" class="text-2xl">workspace_premium</mat-icon>
              <span *ngIf="i > 2">{{ i + 1 }}</span>
            </div>
          </div>

          <!-- Avatar -->
          <div class="flex items-center min-w-0 flex-1">
            <div class="bg-gradient-to-br from-indigo-500 to-purple-600 text-white w-14 h-14 rounded-full flex items-center justify-center font-bold text-lg mr-4 shadow-md flex-shrink-0">
              <span *ngIf="donor.avatar !== '?'">{{ donor.avatar }}</span>
              <mat-icon *ngIf="donor.avatar === '?'">help_outline</mat-icon>
            </div>

            <!-- Donor Info -->
            <div class="min-w-0 flex-1">
              <div class="flex items-center gap-3 mb-1">
                <h3 class="text-lg font-bold text-gray-900 truncate">{{ donor.name }}</h3>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 whitespace-nowrap">
                  <mat-icon class="text-sm mr-1">verified</mat-icon>
                  {{ donor.badge }}
                </span>
              </div>
              <div class="flex items-center text-sm text-gray-500">
                <mat-icon class="text-base mr-1">schedule</mat-icon>
                <span>{{ donor.time }}</span>
              </div>
            </div>
          </div>

          <!-- Donation Amount -->
          <div class="text-right ml-6 flex-shrink-0">
            <div class="text-2xl font-bold text-indigo-600">
              ${{ donor.amount.toLocaleString() }}
            </div>
            <div class="text-sm text-gray-500 flex items-center justify-end mt-1">
              <mat-icon class="text-base mr-1">favorite</mat-icon>
              <span>donated</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="currentLeaderboard.length === 0" class="text-center py-16">
        <mat-icon class="text-6xl text-gray-300 mb-4">people_outline</mat-icon>
        <p class="text-gray-500 text-lg">No donors yet. Be the first to make an impact!</p>
      </div>
    </div>

    <!-- Community Stats -->
    <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="bg-white rounded-xl shadow-lg p-6 text-center border-t-4 border-indigo-500">
        <mat-icon class="text-5xl text-indigo-600 mb-3">groups</mat-icon>
        <div class="text-3xl font-bold text-gray-900 mb-2">{{ totalDonors }}</div>
        <div class="text-gray-600 font-medium">Total Donors</div>
      </div>

      <div class="bg-white rounded-xl shadow-lg p-6 text-center border-t-4 border-green-500">
        <mat-icon class="text-5xl text-green-600 mb-3">attach_money</mat-icon>
        <div class="text-3xl font-bold text-gray-900 mb-2">${{ totalRaised.toLocaleString() }}</div>
        <div class="text-gray-600 font-medium">Total Raised</div>
      </div>

      <div class="bg-white rounded-xl shadow-lg p-6 text-center border-t-4 border-purple-500">
        <mat-icon class="text-5xl text-purple-600 mb-3">family_restroom</mat-icon>
        <div class="text-3xl font-bold text-gray-900 mb-2">{{ familiesHelped }}</div>
        <div class="text-gray-600 font-medium">Families Helped</div>
      </div>
    </div>

    <!-- Call to Action -->
    <div class="mt-12 text-center">
      <p class="text-lg text-gray-700 mb-6">Join our community of supporters and make a difference today</p>
      <button
        (click)="onJoinLeaderboard()"
        class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"
      >
        <mat-icon class="mr-2">volunteer_activism</mat-icon>
        Make Your First Donation
      </button>
    </div>
  </div>

